# Qt项目与Vue前端集成说明

本文档说明如何在Qt项目中集成和配置Vue前端。

## 当前配置

当前项目已配置为自动加载MindMap文件夹中构建后的Vue前端文件。

## 两种集成模式

项目支持两种集成模式：

1. **生产模式**（默认）：加载MindMap/dist目录中构建后的Vue文件
2. **开发模式**：加载Vue开发服务器（适合开发调试）

## 如何切换模式

在AppConfig.cpp文件中，修改静态成员变量的初始化值：

```cpp
// 使用生产模式（默认）
bool AppConfig::m_useDevMode = false;

// 使用开发模式
// bool AppConfig::m_useDevMode = true;
```

切换模式后，需要重新构建Qt项目。

## 开发模式说明

使用开发模式时，需要先启动Vue开发服务器：

1. 打开命令行工具
2. 进入d:\MindMap\MindMap\MindMap目录
3. 运行以下命令启动开发服务器：
   ```
   npm run dev
   ```
4. 确保开发服务器在http://localhost:5173端口运行
5. 然后启动Qt应用程序

## 注意事项

1. 使用生产模式时，确保MindMap项目已经构建（运行`npm run build`命令）
2. 为了能够在Qt中访问本地文件，代码中已启用了相关权限设置
3. 如果遇到路径问题，可以在AppConfig.h文件中修改文件路径

## 前端与后端通信

Vue前端通过QWebChannel与Qt后端通信：

1. 前端已添加qwebchannel.js脚本
2. 前端代码会自动检测是否在Qt环境中运行
3. 在Qt环境中，会连接到后端的nodeManager对象
4. 不在Qt环境中（开发时），会使用模拟的nodeManager对象

您可以在Vue应用中通过`window.nodeManager`访问后端提供的功能。